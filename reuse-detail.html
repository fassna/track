<!DOCTYPE html>
<html>
<head>
    <title>Idea Details - EcoTrack</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .detail-container {
            max-width: 800px;
            margin: 30px auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .idea-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .idea-image-large {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
            margin: 20px 0;
        }
        .steps-list {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .step-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            gap: 15px;
        }
        .step-number {
            background: #4ecdc4;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .material-tag {
            background: #e0f2f1;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin: 5px;
        }
        .action-buttons {
            display: flex;
            gap: 15px;
            margin: 30px 0;
        }
        .share-btn {
            background: #4267B2;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
        }
        .print-btn {
            background: #666;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
        }
        .comment-section {
            margin-top: 40px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 10px;
        }
        .comment {
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="user-nav">
        <h2 onclick="location.href='user-dashboard.html'" style="cursor: pointer;">‚ôªÔ∏è EcoTrack</h2>
        <div class="nav-links">
            <a href="user-dashboard.html">Dashboard</a>
            <a href="reuse-ideas.html">‚Üê Back to Ideas</a>
            <a href="saved-ideas.html">Saved Ideas</a>
        </div>
    </div>

    <div class="detail-container" id="ideaDetail">
        <!-- Content will be loaded by JavaScript -->
        <div class="spinner"></div>
    </div>

    <script>
        // Get idea ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const ideaId = urlParams.get('id') || '1';

        // Idea data (in real app, this would come from database)
        const ideas = {
            1: {
                title: "Plastic Bottle ‚Üí Vertical Garden",
                category: "plastic",
                difficulty: "easy",
                time: "10 mins",
                cost: "Free",
                image: "https://images.unsplash.com/photo-1533035353720-f1c6a75cd4ab?w=800",
                materials: ["Plastic bottles (4-5)", "Rope or string", "Soil", "Small plants", "Scissors", "Marker"],
                steps: [
                    "Clean all plastic bottles thoroughly and remove labels",
                    "Use marker to draw a rectangular cut-out on one side of each bottle",
                    "Carefully cut along the marked lines with scissors",
                    "Make 2-3 small holes in the bottom for drainage",
                    "Fill each bottle with soil, leaving 1 inch from the top",
                    "Plant small herbs or flowers in each bottle",
                    "Tie rope around bottle necks to create a hanging structure",
                    "Hang on balcony or wall in a sunny spot",
                    "Water regularly and watch your garden grow!"
                ],
                tips: [
                    "Use bottles of same size for uniform look",
                    "Paint bottles for colorful garden",
                    "Start with easy plants like mint or succulents",
                    "Water from top so it trickles down"
                ],
                userImages: [
                    "https://images.unsplash.com/photo-1591857177580-dc82b9ac4a5a?w=200",
                    "https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?w=200"
                ]
            },
            2: {
                title: "Newspaper ‚Üí Eco-friendly Bags",
                category: "paper",
                difficulty: "easy",
                time: "15 mins",
                cost: "Free",
                image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=800",
                materials: ["Old newspapers (10-12 sheets)", "Glue or paste", "Scissors", "Rope or ribbon (for handles)", "Paint (optional)"],
                steps: [
                    "Take 4-5 sheets of newspaper and stack them",
                    "Fold the stack in half to create a crease",
                    "Open and fold both sides to the center crease",
                    "Apply glue along the edges to seal the sides",
                    "Fold the bottom up about 2 inches and glue to create base",
                    "Reinforce bottom with additional paper strip",
                    "Attach rope or ribbon handles on both sides",
                    "Let dry completely for 30 minutes",
                    "Decorate with paint or drawings if desired"
                ],
                tips: [
                    "Use multiple layers for stronger bag",
                    "Add cardboard at bottom for heavy items",
                    "Laminate with plastic for waterproofing",
                    "Great for gift wrapping too!"
                ]
            }
            // Add more ideas as needed
        };

        // Load idea details
        function loadIdeaDetails() {
            const idea = ideas[ideaId] || ideas[1];
            const container = document.getElementById('ideaDetail');
            
            let stepsHtml = '';
            idea.steps.forEach((step, index) => {
                stepsHtml += `
                    <div class="step-item">
                        <div class="step-number">${index + 1}</div>
                        <div>${step}</div>
                    </div>
                `;
            });

            let materialsHtml = '';
            idea.materials.forEach(material => {
                materialsHtml += `<span class="material-tag">‚úì ${material}</span>`;
            });

            let tipsHtml = '';
            if(idea.tips) {
                tipsHtml = '<div style="margin: 20px 0;"><h3>üí° Pro Tips</h3><ul>';
                idea.tips.forEach(tip => {
                    tipsHtml += `<li style="margin: 10px 0;">‚ú® ${tip}</li>`;
                });
                tipsHtml += '</ul></div>';
            }

            let userImagesHtml = '';
            if(idea.userImages) {
                userImagesHtml = '<div style="margin: 30px 0;"><h3>üì∏ User Creations</h3><div style="display: flex; gap: 10px;">';
                idea.userImages.forEach(img => {
                    userImagesHtml += `<img src="${img}" style="width: 100px; height: 100px; object-fit: cover; border-radius: 10px;">`;
                });
                userImagesHtml += '</div></div>';
            }

            container.innerHTML = `
                <div class="idea-header">
                    <h2>${idea.title}</h2>
                    <span class="difficulty-badge ${idea.difficulty}" style="position: static;">${idea.difficulty}</span>
                </div>
                
                <div style="display: flex; gap: 20px; color: #666;">
                    <span>‚è±Ô∏è ${idea.time}</span>
                    <span>üí∞ ${idea.cost}</span>
                </div>

                <img src="${idea.image}" class="idea-image-large">

                <div style="margin: 20px 0;">
                    <h3>Materials Needed:</h3>
                    <div style="margin: 15px 0;">
                        ${materialsHtml}
                    </div>
                </div>

                <h3>Step by Step Guide:</h3>
                <div class="steps-list">
                    ${stepsHtml}
                </div>

                ${tipsHtml}
                ${userImagesHtml}

                <div class="action-buttons">
                    <button class="btn user" onclick="saveIdea(${ideaId})" style="flex: 2;">‚ù§Ô∏è Save This Idea (+5 points)</button>
                    <button class="share-btn" onclick="shareIdea()">üì§ Share</button>
                    <button class="print-btn" onclick="printIdea()">üñ®Ô∏è Print</button>
                </div>

                <div class="comment-section">
                    <h3>üí¨ Comments & Questions</h3>
                    <textarea placeholder="Ask a question or share your experience..." style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px;"></textarea>
                    <button class="btn user" onclick="postComment()">Post Comment</button>
                    
                    <div style="margin-top: 20px;">
                        <div class="comment">
                            <strong>Priya:</strong> "I tried this and it worked great! üå±"
                        </div>
                        <div class="comment">
                            <strong>Rahul:</strong> "How many bottles do I need for a small balcony?"
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="location.href='reuse-ideas.html'">‚Üê More Ideas</button>
                </div>
            `;
        }

        // Save idea function
        function saveIdea(id) {
            let savedIdeas = JSON.parse(localStorage.getItem('savedIdeas')) || [];
            if(!savedIdeas.includes(id)) {
                savedIdeas.push(id);
                localStorage.setItem('savedIdeas', JSON.stringify(savedIdeas));
                alert('‚úÖ Idea saved! +5 Green Points');
                
                // Update points
                let points = parseInt(localStorage.getItem('greenPoints')) || 0;
                points += 5;
                localStorage.setItem('greenPoints', points);
            } else {
                alert('Already saved!');
            }
        }

        function shareIdea() {
            alert('Share this idea with friends! üì§');
            // In real app, open share dialog
        }

        function printIdea() {
            window.print();
        }

        function postComment() {
            alert('Comment posted!');
        }

        // Load on page load
        window.onload = loadIdeaDetails;
    </script>
</body>
</html>